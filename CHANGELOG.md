# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.0.7] - 2024-01-22

### Added
- 增强了更新管理器的安全性和稳定性
  - 添加了更新包的哈希值验证功能
  - 增加了 URL 安全性验证机制
  - 支持配置允许的下载域名和文件类型
- 优化了更新通知对话框的用户体验
  - 添加了下载进度动画效果
  - 显示下载速度和剩余时间
  - 支持查看更新日志和备选下载
- 改进了版本号解析和比较逻辑
  - 支持多种 JDK 版本号格式（1.8.0_392、8u392、11.0.21等）
  - 优化了版本号显示格式
  - 增强了版本比较的准确性

### Changed
- 优化了资源文件的目录结构
  - 图标文件保持在根目录的 resources/icons 下
  - 配置文件移至 bin/config 目录
  - 国际化文件移至 bin/i18n 目录
- 改进了符号链接和环境变量管理
  - 优化了符号链接路径的设置逻辑
  - 改进了环境变量的应用和同步机制
  - 增强了权限检查和错误处理
- 更新了依赖包版本要求
  - requests >= 2.31.0
  - urllib3 >= 2.0.0
  - 其他依赖包版本更新

### Fixed
- 修复了更新检查和下载过程中的问题
  - 解决了更新检查失败时的错误处理
  - 修复了下载进度显示异常
  - 改进了网络超时处理
- 修复了版本管理相关问题
  - 解决了版本号解析错误
  - 修复了版本比较逻辑问题
  - 优化了版本类型判断
- 修复了打包和资源文件问题
  - 解决了打包后图标丢失问题
  - 修复了配置文件路径错误
  - 改进了资源文件管理

### Security
- 增强了更新过程的安全性
  - 添加了 SSL 证书验证
  - 实现了文件完整性校验
  - 限制了最大下载文件大小
- 改进了网络请求安全性
  - 添加了域名白名单验证
  - 强制使用 HTTPS 协议
  - 优化了错误处理和日志记录

## [1.0.6] - 2025-01-06

### Added
- 优化帮助文档和国际化支持
- 改进 IDE 配置指南内容
- 完善中英文翻译质量
- 统一资源目录结构设计
- 优化便携版和安装版的资源管理
- 改进软链接路径设置和管理机制
- 优化环境变量应用和同步逻辑

### Changed
- 优化文档搜索功能
- 改进文档显示样式
- 统一中英文文案风格
- 改进构建脚本的资源处理逻辑
- 优化图标和资源文件的组织结构
- 改进环境变量设置界面的交互体验
- 优化软链接路径的存储和读取方式

### Fixed
- 修复国际化切换问题
- 优化文档内容格式化
- 修复便携版和安装版资源重复问题
- 修复构建后的目录结构问题
- 修复资源文件路径引用问题
- 修复环境变量应用后的状态同步问题
- 修复软链接路径设置的权限问题

### Improved
- 构建系统的资源管理机制
- 安装包的资源组织结构
- 便携版的资源目录布局
- 资源文件的访问效率
- 构建脚本的可维护性
- 环境变量设置的可靠性和稳定性
- 软链接路径的跨平台兼容性

## [1.0.5] - 2025-01-05

### Added
- 托盘菜单的版本切换功能
- 托盘图标显示当前版本信息
- 环境变量预览和同步状态显示
- 滚动条样式优化和主题适配

### Changed
- 优化托盘菜单布局和样式
- 改进环境变量设置界面
- 优化版本切换后的状态同步
- 统一滚动条样式和交互体验

### Fixed
- 修复托盘菜单版本列表同步问题
- 修复环境变量设置后的显示更新
- 修复主题切换时的样式应用问题
- 修复版本切换后的状态刷新问题

## [1.0.4] - 2025-01-04

### Added
- 支持便携版和安装版的构建系统
- 中英文 README 支持
- 文件日志记录系统
- 完整的帮助文档和 API 文档

### Changed
- 统一使用 app.json 进行版本管理和配置
- 改进图标显示和资源管理机制
- 优化托盘菜单和版本切换功能
- 优化界面样式和用户体验

### Improved
- 构建脚本的跨平台支持
- 日志系统的性能和可靠性
- 版本切换功能的稳定性
- 资源管理的效率

## [1.0.3] - 2024-12-28

### Added
- 托盘功能支持
- 环境变量管理功能
- 自动更新检查功能
- 代理设置支持

### Changed
- 优化 JDK 版本切换逻辑
- 改进本地 JDK 映射机制
- 更新用户界面设计

### Fixed
- 修复环境变量设置问题
- 修复版本切换时的权限问题
- 修复托盘图标显示异常

## [1.0.2] - 2024-12-26

### Added
- 本地 JDK 映射功能
- 版本切换功能
- 基础设置界面

### Changed
- 优化下载管理器
- 改进错误处理机制
- 更新依赖管理

### Fixed
- 修复下载进度显示问题
- 修复配置保存问题

## [1.0.1] - 2024-12-25

### Added
- 在线 JDK 下载功能
- 基础用户界面
- 下载进度显示

### Changed
- 优化文件管理
- 改进错误提示

### Fixed
- 修复界面布局问题
- 修复下载路径问题

## [1.0.0] - 2024-12-24

### Added
- 初始版本发布
- 基础框架搭建
- PyQt6 界面框架
- 基础配置系统

[1.0.7]: https://gitee.com/l06066hb/jvman/releases/tag/v1.0.7
[1.0.6]: https://gitee.com/l06066hb/jvman/releases/tag/v1.0.6
[1.0.5]: https://gitee.com/l06066hb/jvman/releases/tag/v1.0.5
[1.0.4]: https://gitee.com/l06066hb/jvman/releases/tag/v1.0.4
[1.0.3]: https://gitee.com/l06066hb/jvman/releases/tag/v1.0.3
[1.0.2]: https://gitee.com/l06066hb/jvman/releases/tag/v1.0.2
[1.0.1]: https://gitee.com/l06066hb/jvman/releases/tag/v1.0.1
[1.0.0]: https://gitee.com/l06066hb/jvman/releases/tag/v1.0.0 